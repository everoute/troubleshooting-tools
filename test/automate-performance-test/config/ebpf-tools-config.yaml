# eBPF工具配置 - 完全基于case引用，与性能测试解耦
# 关键：这里只定义eBPF case和它适用的测试场景，不包含任何性能测试的具体实现
ebpf_tools:
  tool_001:
    id: "system_network_perfomance_metrics"
    name: "System Network Performance Metrics"

    # 引用现有testcase文件中的case
    testcase_source:
      file: "test/workflow/case/performance-test-cases.json"
      case_ids: [1, 2, 3, 4]  # 只需要case_id，执行时从文件读取完整命令

    # 定义这个工具可以配合哪些性能测试
    test_associations:
      applicable_environments: ["host"]  # 可在哪些环境运行
      performance_test_types: ["throughput", "latency", "pps"]  # 可配合哪些性能测试

    # 监控配置 - 独立于性能测试
    resource_monitoring:
      enabled: true
      cpu: true
      memory: true
      memory_types: ["virt", "rss"]
      log_size: true
      cpu_stats: ["avg", "peak"]

  tool_002:
    id: "system_network_latency_details"
    name: "System Network Latency Details"
    testcase_source:
      file: "test/workflow/case/performance-test-cases.json"
      case_ids: [5, 6, 7, 8]
    test_associations:
      applicable_environments: ["host"]
      performance_test_types: ["throughput", "latency", "pps"]
    resource_monitoring:
      enabled: true
      cpu: true
      memory: true
      memory_types: ["virt", "rss"]
      log_size: true
      cpu_stats: ["avg", "peak"]

  tool_003:
    id: "vm_network_latency_summary"
    name: "VM Network Latency Summary"
    testcase_source:
      file: "test/workflow/case/performance-test-cases.json"
      case_ids: [15, 16, 17, 18, 19, 20]
    test_associations:
      applicable_environments: ["vm"]
      performance_test_types: ["throughput", "latency", "pps"]
    resource_monitoring:
      enabled: true
      cpu: true
      memory: true
      memory_types: ["virt", "rss"]
      log_size: true
      cpu_stats: ["avg", "peak"]